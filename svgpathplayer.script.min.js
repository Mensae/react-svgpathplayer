var SVGPathPlayer=function(t){function e(s){if(n[s])return n[s].exports;var a=n[s]={exports:{},id:s,loaded:!1};return t[s].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(1)},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),o=function(t,e,n){for(var s=!0;s;){var a=t,r=e,i=n;s=!1,null===a&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,r);if(void 0!==o){if("value"in o)return o.value;var p=o.get;if(void 0===p)return;return p.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;t=l,e=r,n=i,s=!0,o=l=void 0}},p=n(2),l=s(p),u=n(3),h=s(u),d=n(4),f=s(d),c=n(5),g=s(c);n(6);var m=function(t){function e(t){a(this,e),o(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={length:0,position:this.props.position,mode:"path",step:this.props.step,steps:0,playing:!1,loading:!0},this.svg=null,this.snapAnimate=null,this.snapSegment=null,this.snapSegments=[],this.path=null,this.marker=null,this.segmentLengths=[],this.play=this.play.bind(this),this.playSegmentForward=this.playSegmentForward.bind(this),this.playSegmentBackward=this.playSegmentBackward.bind(this),this.pause=this.pause.bind(this)}return r(e,t),i(e,null,[{key:"propTypes",value:{controls:l["default"].PropTypes.bool,loading:l["default"].PropTypes.bool,marker:l["default"].PropTypes.string,path:l["default"].PropTypes.string.isRequired,position:l["default"].PropTypes.number,repeat:l["default"].PropTypes.bool,segments:l["default"].PropTypes.string,startplaying:l["default"].PropTypes.bool,step:l["default"].PropTypes.number,svg:l["default"].PropTypes.string.isRequired,time:l["default"].PropTypes.number,units:l["default"].PropTypes.oneOf(["yds","m"])},enumerable:!0},{key:"defaultProps",value:{svg:"",path:"",marker:"",units:"yds",position:0,time:2e3,segments:"",step:-1,startplaying:!1,loading:!0,controls:!0,repeat:!1},enumerable:!0}]),i(e,[{key:"play",value:function(){var t=this,e=this.state.position;e>=this.state.length&&(e=0);var n=this.state.length-e,s=this.props.time*n/this.state.length;this._segmentToPath(),this.setState({playing:!0}),this.path.attr({"stroke-dasharray":this.state.length+" "+this.state.length}),this.path.attr({display:"block"}),this.snapAnimate=g["default"].animate(n,0,function(e){var n=t.state.length-e;t.path.attr({"stroke-dashoffset":e}),t.marker&&t.positionMarker(t.path,n,t.state.length),t.setState({position:n,step:t._segmentFromPosition(n)})},s,mina.linear,function(){t.setState({playing:!1,position:0}),t.props.repeat&&setTimeout(function(){return t.play()},1)})}},{key:"positionMarker",value:function(t,e,n){if(this.marker){var s=g["default"].path.getPointAtLength(t,e),a=s;if(n&&1>n-e)for(;90===s.alpha;)e-=1,s=g["default"].path.getPointAtLength(t,e);this.marker.transform("translate("+a.x+","+a.y+") rotate("+(s.alpha-90)+")")}}},{key:"playSegmentForward",value:function(){var t=void 0;t=-1===this.state.step||this.state.step+1>this.state.steps-1?0:this.state.step+1,this._transitionSegment(t)}},{key:"playSegmentBackward",value:function(){var t=void 0;t=this.state.step<=0?this.state.steps-1:this.state.step-1,this._transitionSegment(t)}},{key:"componentDidMount",value:function(){var t=this;g["default"].load(this.props.svg,function(e){var n=0;t.svg=(0,g["default"])(t.svgImage),t.svg.append(e),t.props.path&&(t.selectPath(t.props.path,!0),n=t.path.getTotalLength()),t.props.segments&&(t.snapSegments=t.svg.selectAll(t.props.segments+" path"),t.segmentLengths=t._segmentLengths(),n||(n=t._segmentPosition(t.snapSegments.length-1))),t.props.marker&&(t.marker=t.svg.select(t.props.marker),t.marker.attr({marker:"",markerStart:"",markerEnd:""}),t.props.path&&t.path.attr({marker:"",markerStart:"",markerEnd:""}),t.props.segments&&t.snapSegments.attr({marker:"",markerStart:"",markerEnd:""}),t.positionMarker(t.path,0)),t.setState({loading:!1,steps:t.snapSegments.length,length:n}),t._hideSegments(),t.props.startplaying&&t.play()})}},{key:"componentWillUnmount",value:function(){this.svg.remove()}},{key:"render",value:function(){var t=this,e=this.state.loading,n={display:this.state.playing?"none":"inline"},s={display:this.state.playing?"inline":"none"},a=(0,f["default"])(["steps"],{inactive:"path"==this.state.mode||this.state.playing||e}),r=(0,f["default"])(["distance"],{inactive:e}),i="",o=void 0,p=void 0,u=void 0,h=void 0,d=void 0;this.props.path&&(p=l["default"].createElement("span",null,l["default"].createElement("button",{"aria-pressed":"false",autoComplete:"off",className:"btn btn-success",disabled:e,onClick:this.play,style:n,type:"button"},l["default"].createElement("span",{"aria-hidden":"true",className:"glyphicon glyphicon-play"})),l["default"].createElement("button",{"aria-pressed":"false",autoComplete:"off",className:"btn",disabled:e,onClick:this.pause,style:s,type:"button"},l["default"].createElement("span",{"aria-hidden":"true",className:"glyphicon glyphicon-pause"})))),this.props.segments&&(o=l["default"].createElement("span",null,l["default"].createElement("button",{"aria-pressed":"false",autoComplete:"off",className:"btn step-backward",disabled:e,onClick:this.playSegmentBackward,type:"button"},l["default"].createElement("span",{"aria-hidden":"true",className:"glyphicon glyphicon-step-backward"})),l["default"].createElement("button",{"aria-pressed":"false",autoComplete:"off",className:"btn step-forward",disabled:e,onClick:this.playSegmentForward,type:"button"},l["default"].createElement("span",{"aria-hidden":"true",className:"glyphicon glyphicon-step-forward"}))),u=l["default"].createElement("label",{className:a},this._displayStep(this.state.step)," - ",this._displayStep(this.state.step+1))),d=l["default"].createElement("span",null,p,o),h=l["default"].createElement("label",{className:r}," ",this._displayDistance(this.state.position)," : ",this._displayDistance(this.state.length)," ",this.props.units);var c=this.props.loading&&e?l["default"].createElement("div",{className:"loading glyphicon glyphicon-refresh glyphicon-spin"}):"";return this.props.controls&&(i=l["default"].createElement("div",{className:"buttons"},d,l["default"].createElement("div",{className:"status"},u,h))),l["default"].createElement("div",{className:"svg-path-player"},c,l["default"].createElement("div",{className:"svg-container svg-container-box",ref:function(e){return t.svgImage=e}}),i)}},{key:"selectPath",value:function(t,e){this.svg.select(t).attr({display:""}),this.path=this.svg.select(t+" path"),e||this._hidePath()}},{key:"pause",value:function(){this.setState({playing:!1}),this.snapAnimate.stop()}},{key:"_hidePath",value:function(){this.path&&this.path.attr({display:"none"})}},{key:"_transitionSegment",value:function(t){var e=void 0;this._pathToSegment(),this.setState({playing:!0}),this._hideCurrentSegment(),this._showSegment(t),e=this._segmentPosition(t),this.positionMarker(this.snapSegment,e,e),this.setState({step:t,position:this._segmentPosition(t),playing:!1})}},{key:"_segmentFromPosition",value:function(t){var e=h["default"].findLastIndex(this.segmentLengths,function(e){return t>=e});return e=0>e?0:e}},{key:"_pathToSegment",value:function(){this.state.playing&&this.pause(),this.setState({mode:"segment"}),this._hidePath()}},{key:"_segmentToPath",value:function(){this.setState({mode:"path"}),this._hideSegments()}},{key:"_hideSegments",value:function(){h["default"].each(this.snapSegments,function(t){t.attr({display:"none"})})}},{key:"_hideCurrentSegment",value:function(){this.snapSegment&&this.snapSegment.attr({display:"none"})}},{key:"_showSegment",value:function(t){this.snapSegment=this.snapSegments[t],this.snapSegment.attr({display:"block"})}},{key:"_segmentLengths",value:function(){return h["default"].reduce(this.snapSegments,function(t,e){return h["default"].last(t)?t.push(h["default"].last(t)+e.getTotalLength()):t.push(e.getTotalLength()),t},[])}},{key:"_segmentPosition",value:function(t){return this.segmentLengths[t]}},{key:"_displayStep",value:function(t){return 0>t?0:t+1}},{key:"_displayDistance",value:function(t){return"m"==this.props.units?Number(t/39.37).toFixed():Number(t/36).toFixed()}}]),e}(l["default"].Component);e["default"]=m,t.exports=e["default"]},function(t,e){t.exports=React},function(t,e){t.exports=_},function(t,e,n){var s,a;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var t="",e=0;e<arguments.length;e++){var s=arguments[e];if(s){var a=typeof s;if("string"===a||"number"===a)t+=" "+s;else if(Array.isArray(s))t+=" "+n.apply(null,s);else if("object"===a)for(var i in s)r.call(s,i)&&s[i]&&(t+=" "+i)}}return t.substr(1)}var r={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=n:(s=[],a=function(){return n}.apply(e,s),!(void 0!==a&&(t.exports=a)))}()},function(t,e){t.exports=Snap},function(t,e,n){var s=n(7);"string"==typeof s&&(s=[[t.id,s,""]]);n(9)(s,{});s.locals&&(t.exports=s.locals)},function(t,e,n){e=t.exports=n(8)(),e.push([t.id,".glyphicon-spin{-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.svg-path-player{border:1px solid #d3d3d3}.svg-path-player .buttons{border-top:1px solid #d3d3d3;padding:2px;overflow:hidden}.svg-path-player .buttons .btn{margin-right:2px}.svg-path-player .buttons .btn .glyphicon{top:1px}.svg-path-player .buttons .status{float:right}.svg-path-player .buttons .status:after{clear:both}.svg-path-player .buttons .distance,.svg-path-player .buttons .steps{height:2em;padding-top:6px;padding-right:4px}.svg-path-player .buttons .steps{margin-right:10px}.svg-path-player .buttons .inactive{color:#d3d3d3}.svg-path-player .loading{position:absolute;top:48%;left:48%;color:#d3d3d3;font-size:1.5em}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},a=0;a<this.length;a++){var r=this[a][0];"number"==typeof r&&(s[r]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&s[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(t,e,n){function s(t,e){for(var n=0;n<t.length;n++){var s=t[n],a=f[s.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](s.parts[r]);for(;r<s.parts.length;r++)a.parts.push(l(s.parts[r],e))}else{for(var i=[],r=0;r<s.parts.length;r++)i.push(l(s.parts[r],e));f[s.id]={id:s.id,refs:1,parts:i}}}}function a(t){for(var e=[],n={},s=0;s<t.length;s++){var a=t[s],r=a[0],i=a[1],o=a[2],p=a[3],l={css:i,media:o,sourceMap:p};n[r]?n[r].parts.push(l):e.push(n[r]={id:r,parts:[l]})}return e}function r(t,e){var n=m(),s=b[b.length-1];if("top"===t.insertAt)s?s.nextSibling?n.insertBefore(e,s.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function i(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function o(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function p(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function l(t,e){var n,s,a;if(e.singleton){var r=v++;n=y||(y=o(e)),s=u.bind(null,n,r,!1),a=u.bind(null,n,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=p(e),s=d.bind(null,n),a=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(e),s=h.bind(null,n),a=function(){i(n)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else a()}}function u(t,e,n,s){var a=n?"":s.css;if(t.styleSheet)t.styleSheet.cssText=k(e,a);else{var r=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}function h(t,e){var n=e.css,s=e.media;e.sourceMap;if(s&&t.setAttribute("media",s),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e){var n=e.css,s=(e.media,e.sourceMap);s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var a=new Blob([n],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(a),r&&URL.revokeObjectURL(r)}var f={},c=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=c(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,v=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=a(t);return s(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var o=n[i],p=f[o.id];p.refs--,r.push(p)}if(t){var l=a(t);s(l,e)}for(var i=0;i<r.length;i++){var p=r[i];if(0===p.refs){for(var u=0;u<p.parts.length;u++)p.parts[u]();delete f[p.id]}}}};var k=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=svgpathplayer.script.min.js.map